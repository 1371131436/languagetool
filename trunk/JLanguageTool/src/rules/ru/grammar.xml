<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE rules SYSTEM "../rules.dtd">
<?xml-stylesheet type="text/xsl" href="../print.xsl" 
title="Pretty print" ?>
<?xml-stylesheet type="text/css" href="../rules.css" 
title="Easy editing stylesheet" ?>
<!--
A Russian rule file for LanguageTool
Copyright (C) 2005 Daniel Naber (http://www.danielnaber.de)
Copyright (C) 2008 Yakov Reztsov
$Id: grammar.xml,v 1.14 2008-12-01 20:58:32 milek_pl Exp $
-->
<rules lang="ru">
    <category name="Пунктуация">
        <rulegroup id="POZHALUJSTA" name="«пожалуйста» выделяется запятыми">
            <rule>
                <pattern case_sensitive="yes" mark_to="0">
                    <token negate="yes" regexp="yes">[\p{Punct}]|всегда<exception postag="SENT_START"></exception></token>
                    <token>пожалуйста</token>
                </pattern>
                <message>Нет запятой: <suggestion>\1, \2</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Закройте дверь, <marker>пожалуйста.</marker></example>
                <example type="incorrect">Закройте <marker>дверь пожалуйста</marker>.</example>
            </rule>
            <rule>
                <pattern case_sensitive="yes" mark_to="0">
                    <token  postag="SENT_START"></token>
                    <token>Пожалуйста</token>
                    <token negate="yes" regexp="yes">[\p{Punct}]</token>
                </pattern>
                <message>Нет запятой: <suggestion>\2, \3</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct"><marker>Пожалуйста, закройте</marker> дверь.</example>
                <example type="incorrect"><marker>Пожалуйста закройте</marker> дверь.</example>
            </rule>
        </rulegroup>
        <rulegroup default="on" id="KAK_PRAVILO" name="Вводное сочетание как обычно, как всегда, ...">
            <!--Вводное сочетание как обычно, как всегда, как правило, как исключение, как сейчас, как нарочно
-->
            <rule>
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—<exception postag="SENT_START"></exception></token>
                    <token>как</token>
                    <token regexp="yes">обычно|всегда|правило|исключение|нарочно|сейчас</token>
                    <token negate="yes">,</token>
                </pattern>
                <message>Нет запятой: <suggestion>\1, \2 \3, \4</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct"><marker>Мы, как правило, ходим</marker> ходим в походы летом.</example>
                <example type="incorrect" correction="Мы, как правило, ходим"><marker>Мы как правило ходим</marker> в походы летом.</example>
            </rule>  
            
            
            <rule>
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—<exception postag="SENT_START"></exception></token>
                    <token>как</token>
                    <token regexp="yes">обычно|всегда|правило|исключение|нарочно|сейчас</token>
                    <token>,</token>
                </pattern>
                <message>Нет запятой: <suggestion>\1, \2 \3\4</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct"><marker>Мы, как правило,</marker> ходим в походы летом.</example>
                <example type="incorrect" correction="Мы, как правило,"><marker>Мы как правило,</marker> ходим в походы летом.</example>
            </rule>  
            
            <rule>
                <pattern case_sensitive="yes">
                    <token  postag="SENT_START"></token>
                    <token>Как</token>
                    <token regexp="yes">обычно|всегда|правило|исключение|нарочно|сейчас</token>
                    <token negate="yes" regexp="yes">[\p{Punct}]</token>
                </pattern>
                <message>Нет запятой: <suggestion>\2 \3, \4</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct"><marker>Как правило,</marker> мы ходим в походы летом.</example>
                <example type="incorrect" correction="Как правило, мы"><marker>Как правило мы</marker> ходим в походы летом.</example>
            </rule>         
        </rulegroup>
        <rulegroup id="KAK_I" name="После союза как следует и">
            <!--TODO: Detect 2 comma.-->
            <rule>
                <pattern case_sensitive="no">
                    <token negate="yes" regexp="yes">[\p{Punct}]|так|же|равно|также|время|-|—<exception postag="SENT_START"></exception></token>
                    <token>как</token>
                    <token>и</token>
                </pattern>
                <message>Оборот "как и" выделяется запятыми: <suggestion>\1, \2 \3</suggestion>.</message>
                <short>Оборот "как и" выделяется запятыми.</short>
                <example type="correct">Мы<marker>, как и наши товарищи,</marker> любим заниматься спортом.</example>
                <example type="incorrect"><marker>Мы как и</marker> наши товарищи любим заниматься спортом.</example>
            </rule>
            <rule>
                <pattern case_sensitive="no">
                    <token regexp="yes">также</token>
                    <token>как</token>
                    <token>и</token>
                </pattern>
                <message>Сложный союз "так же как и": <suggestion>так же \2 \3</suggestion>.</message>
                <short>Оборот "как и" выделяется запятыми.</short>
                <example type="correct">Мы, <marker>так же как и</marker> наши товарищи, любим заниматься спортом.</example>
                <example type="incorrect">Мы, <marker>также как и</marker> наши товарищи, любим заниматься спортом.</example>
            </rule>
        </rulegroup>
        <rulegroup default="on" id="A_NO_DA" name="Союзы 'а, но'">
            <rule>
                <pattern case_sensitive="yes" mark_to="-1">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—|’|ну|Ну|«<exception postag="SENT_START"></exception></token>
                    <token>а</token>
                    <token negate="yes" regexp="yes">[\p{Punct}]|\)</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">И растёт ребёнок там не по дням, а по часам.</example>
                <example type="incorrect">И растёт ребёнок там не по <marker>дням а</marker> по часам.</example>
            </rule>
            <rule>
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—|«<exception postag="SENT_START"></exception></token>
                    <token>но</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Она говорила мало, но толково.</example>
                <example type="incorrect">Она говорила <marker>мало но</marker> толково.</example>
            </rule>
        </rulegroup>
        <rulegroup default="on" id="VVODNOE_SLOVO" name="Вводные слова: по-видимому, ...">
            <rule>
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—|как|который|которого|которому|
                        которого|которому|котором|которая|которой|которую|которые|которых|
                    которыми|которое|которого|которому|которым<exception postag="SENT_START"></exception></token>
                    <token regexp="yes">по-видимому|по-моему|по-твоему|впрочем</token>
                    <token negate="yes">,</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2, \3</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Это показалось ему, по-видимому, странным.</example>
                <example type="incorrect" correction="ему, по-видимому, странным">Это показалось <marker>ему по-видимому странным</marker>.</example>
            </rule>
            
            <rule>
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—|как|который|которого|которому|
                        которого|которому|котором|которая|которой|которую|которые|которых|
                    которыми|которое|которого|которому|которым<exception postag="SENT_START"></exception></token>
                    <token regexp="yes">по-видимому|по-моему|по-твоему|впрочем</token>
                    <token>,</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2\3</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Это показалось <marker>ему, по-видимому,</marker> странным.</example>
                <example type="incorrect" correction="ему, по-видимому,">Это показалось <marker>ему по-видимому,</marker> странным.</example>
            </rule>
            
            
            <rule>
                <pattern case_sensitive="yes">
                    <token  postag="SENT_START"></token>
                    <token regexp="yes">По-видимому|По-моему|По-твоему|Впрочем</token>
                    <token negate="yes" regexp="yes">[\p{Punct}]</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\2, \3</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">По-видимому, это странное явление.</example>
                <example type="incorrect" correction="По-видимому, это"><marker>По-видимому это</marker> странное явление.</example>
            </rule>
            <rule>
                <!-- Вводные слова: итак, следовательно, во-первых, наконец, между прочим, ...-->            
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—<exception postag="SENT_START"></exception></token>     
                    <token regexp="yes">итак|следовательно|во-первых|во-вторых|в-третьих|в-четвертых|в-пятых</token>
                    <token negate="yes">,</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2, \3</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Эта работа, во-первых, представляет огромную научную ценность.</example>
                <example type="incorrect" correction="работа, во-первых, представляет">Эта <marker>работа во-первых представляет</marker> огромную научную ценность.</example>
            </rule>
            <rule>
                <!-- Вводные слова: итак, следовательно, во-первых, наконец, между прочим, ...-->            
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—<exception postag="SENT_START"></exception></token>     
                    <token regexp="yes">итак|следовательно|во-первых|во-вторых|в-третьих|в-четвертых|в-пятых</token>
                    <token>,</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2\3</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Эта <marker>работа, во-первых,</marker> представляет огромную научную ценность.</example>
                <example type="incorrect" correction="работа, во-первых,">Эта <marker>работа во-первых,</marker> представляет огромную научную ценность.</example>
            </rule>
            
            <rule>
                <pattern case_sensitive="yes">
                    <token  postag="SENT_START"></token>
                    <token regexp="yes">Итак|Следовательно|Во-первых|Во-вторых|В-третьих|В-четвертых|В-пятых</token>
                    <token negate="yes" regexp="yes">[\p{Punct}]</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\2, \3</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Во-первых, эта работа представляет огромную научную ценность.</example>
                <example type="incorrect" correction="Во-первых, эта"><marker>Во-первых эта</marker> работа представляет огромную научную ценность.</example>
            </rule>
            <rule>
                <!-- Вводные слова:   видишь (ли), понимаешь (ли), ...-->
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—<exception postag="SENT_START"></exception></token>    
                    <token regexp="yes">видишь|понимаешь</token>
                    <token>ли</token>
                    <token negate="yes">,</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2 \3, \4</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Эта работа, видишь ли, представляет огромную научную ценность.</example>
                <example type="incorrect" correction="работа, видишь ли, представляет">Эта <marker>работа видишь ли представляет</marker> огромную научную ценность.</example>
            </rule>
            
            <rule>
                <!-- Вводные слова:   видишь (ли), понимаешь (ли), ...-->
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—<exception postag="SENT_START"></exception></token>    
                    <token regexp="yes">видишь|понимаешь</token>
                    <token>ли</token>
                    <token>,</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2 \3\4</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Эта <marker>работа, видишь ли,</marker> представляет огромную научную ценность.</example>
                <example type="incorrect" correction="работа, видишь ли,">Эта <marker>работа видишь ли,</marker> представляет огромную научную ценность.</example>
            </rule>
            
            <rule> 
                <pattern case_sensitive="yes">
                    <token  postag="SENT_START"></token>
                    <token regexp="yes">Видишь|Понимаешь</token>
                    <token>ли</token>
                    <token negate="yes" regexp="yes">,|.</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\2 \3, \4</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Видишь ли, эта работа представляет огромную научную ценность.</example>
                <example type="incorrect" correction="Видишь ли, эта"><marker>Видишь ли эта</marker> работа представляет огромную научную ценность.</example>
            </rule>
        </rulegroup>
        <rulegroup default="off" id="KAK_VVODNOE" name="Слова, которые могут выступать в роли вводных: к счастью, ...">
            <rule>
                <!--Вводные слова: к счастью, к несчастью, к радости, к ужасу, к сожалению, ...-->
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—<exception postag="SENT_START"></exception></token>
                    <token>к</token>
                    <token regexp="yes">счастью|несчастью|радости|ужасу|сожалению</token>
                    <token negate="yes">,</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2 \3,</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Мы, к сожалению, не успели на поезд.</example>
                <example type="incorrect" correction="Мы, к сожалению,"><marker>Мы к сожалению не</marker> успели на поезд.</example>
            </rule>
            
            <rule>
                <!--Вводные слова: к счастью, к несчастью, к радости, к ужасу, к сожалению, ...-->
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—<exception postag="SENT_START"></exception></token>
                    <token>к</token>
                    <token regexp="yes">счастью|несчастью|радости|ужасу|сожалению</token>
                    <token>,</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2 \3\4</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Мы, к сожалению, не успели на поезд.</example>
                <example type="incorrect" correction="Мы, к сожалению,"><marker>Мы к сожалению,</marker> не успели на поезд.</example>
            </rule>
            <rule>        
                <pattern case_sensitive="yes">
                    <token  postag="SENT_START"></token>
                    <token>К</token>
                    <token regexp="yes">счастью|несчастью|радости|ужасу|сожалению</token>
                    <token negate="yes" regexp="yes">[\p{Punct}]</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\2 \3, \4</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">К сожалению, мы не успели на поезд.</example>
                <example type="incorrect" correction="К сожалению, мы"><marker>К сожалению мы</marker> не успели на поезд.</example>
            </rule>
            
            <rule>
                <!-- Вводные слова: конечно, несомненно, вероятно, может быть, кажется, ...-->
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—|наиболее|наименее|более|менее<exception postag="SENT_START"></exception></token>     
                    <token regexp="yes">конечно|несомненно|вероятно|кажется</token>
                    <token negate="yes">,</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2,</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Эта работа, несомненно, представляет огромную научную ценность.</example>
                <example type="incorrect" correction="работа, несомненно,">Эта <marker>работа несомненно представляет</marker> огромную научную ценность.</example>
            </rule>
            <rule>
                <!-- Вводные слова: конечно, несомненно, вероятно, может быть, кажется, ...-->
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—|наиболее|наименее|более|менее<exception postag="SENT_START"></exception></token>     
                    <token regexp="yes">конечно|несомненно|вероятно|кажется</token>
                    <token>,</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2\3</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Эта работа, несомненно, представляет огромную научную ценность.</example>
                <example type="incorrect" correction="работа, несомненно,">Эта <marker>работа несомненно,</marker> представляет огромную научную ценность.</example>
            </rule>
            
            <rule>
                <pattern case_sensitive="yes">   
                    <token  postag="SENT_START"></token>
                    <token regexp="yes">Конечно|Несомненно|Вероятно|Кажется</token>
                    <token negate="yes" regexp="yes">[\p{Punct}]</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\2, \3</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Несомненно, эта работа представляет огромную научную ценность.</example>
                <example type="incorrect" correction="Несомненно, эта"><marker>Несомненно эта</marker> работа представляет огромную научную ценность.</example>
            </rule> 
            <rule>
                <!-- Вводные слова:   одним словом, вообще, иначе говоря, так сказать, ...-->
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—<exception postag="SENT_START"></exception></token>     
                    <token>одним</token>
                    <token>словом</token>
                    <token negate="yes">,</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2 \3,</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Эта работа, одним словом, представляет огромную научную ценность.</example>
                <example type="incorrect" correction="работа, одним словом,">Эта <marker>работа одним словом представляет</marker> огромную научную ценность.</example>
            </rule>
            <rule>
                <!-- Вводные слова:   одним словом, вообще, иначе говоря, так сказать, ...-->
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—<exception postag="SENT_START"></exception></token>     
                    <token>одним</token>
                    <token>словом</token>
                    <token>,</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2 \3\4</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Эта работа, одним словом, представляет огромную научную ценность.</example>
                <example type="incorrect" correction="работа, одним словом,">Эта <marker>работа одним словом,</marker> представляет огромную научную ценность.</example>
            </rule>
            
            <rule>
                <pattern case_sensitive="yes">
                    <token  postag="SENT_START"></token>
                    <token>Одним</token>
                    <token>словом</token>
                    <token negate="yes" regexp="yes">[\p{Punct}]</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\2 \3, \4</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Одним словом, эта работа представляет огромную научную ценность.</example>
                <example type="incorrect" correction="Одним словом, эта"><marker>Одним словом эта</marker> работа представляет огромную научную ценность.</example>
            </rule>                   
        </rulegroup>
        
        <rulegroup default="off" id="PREDLOGI_KROME" name="Дополнения, вводимые предлогами: кроме, ...">
            <!--Дополнения, вводимые предлогами: кроме, помимо, вместо, сверх, за исключением
            --> 
            <!--TODO: Detect 2 comma.-->
            <rule>
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—<exception postag="SENT_START"></exception></token>
                    <token regexp="yes">кроме|помимо|вместо</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">Около костра, кроме Ивана, грелось ещё пять человек.</example>
                <example type="incorrect">Около <marker>костра кроме</marker> Ивана грелось ещё пять человек.</example>
            </rule>   
            <rule>
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]|-|—<exception postag="SENT_START"></exception></token>
                    <token>за</token>
                    <token>исключением</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2 \3</suggestion>.</message>
                <short>Нет запятой.</short>
                <example type="correct">В поход, за исключением Ивана, пошло ещё пять человек.</example>
                <example type="incorrect" correction="поход, за исключением">В <marker>поход за исключением</marker> Ивана пошло ещё пять человек.</example>
            </rule>
        </rulegroup>
        
        <rule default="on"  id="DEFIS_COMMA" name="Дефис и запятая">
            <pattern>
                <token  regexp="yes">-|—|–</token>
                <token>,</token>
            </pattern>
            <message>Запятая должна стоять перед тире. Должно быть: <suggestion>\2 \1</suggestion></message>
            <short>Запятая - перед тире.</short>
            <example type="correct">Здорово живешь, соседка, - поздоровался Иван.</example>
            <example type="incorrect">Здорово живешь, соседка<marker> -,</marker> поздоровался Иван.</example>
        </rule>
        
        <rulegroup default="on" id="NO_KAK_POPALO" name="Что угодно, как попало">
            <!--Что угодно, как попало  не выделяются запятыми.
            --> 
            <rule>
                <pattern>
                    <token  regexp="yes">,</token>
                    <token  regexp="yes">что|как</token>
                    <token  regexp="yes">попало|угодно</token>
                </pattern>
                <message>Запятая не нужна:<suggestion> \2 \3</suggestion>.</message>
                <short>Запятая не нужна.</short>
                <example type="correct">Работа была сделана как попало.</example>
                <example type="incorrect">Работа была сделана<marker>, как попало</marker>.</example>
            </rule>
        </rulegroup>
        <rulegroup default="on" id="NO_NE_KAK" name="Почти как, не как, ...">
            <!--Перед сравнительным оборотом стоит не или слова совсем, совершенно, почти, именно запятая не ставится.
            --> 
            <rule>
                <pattern>
                    <token  regexp="yes">не|совсем|совершенно|почти|именно</token>
                    <token  regexp="yes">,</token>
                    <token>как</token>
                </pattern>
                <message>Запятая не нужна:<suggestion>\1 \3</suggestion>.</message>
                <short>Запятая не нужна.</short>
                <example type="correct">Работа была сделана совсем как попало.</example>
                <example type="incorrect">Работа была сделана <marker>совсем, как</marker> попало.</example>
            </rule>
        </rulegroup>
        <rulegroup default="on" id="NO_NE_TO_CHTO" name="Не то что, не так чтобы, не иначе как">
            <!-- Внутри сочетаний не то что, не то (так) чтобы, не иначе как запятая не ставится.
            --> 
            <rule>
                <pattern>
                    <token>не</token>
                    <token  regexp="yes">то|иначе|так</token>
                    <token  regexp="yes">,</token>
                    <token  regexp="yes">что|как|чтобы</token>                    
                </pattern>
                <message>Запятая не нужна:<suggestion>\1 \2 \4</suggestion>.</message>
                <short>Запятая не нужна.</short>
                <example type="correct">Работа была сделана не иначе как полностью.</example>
                <example type="incorrect">Работа была сделана <marker>не иначе, как</marker> полностью.</example>
            </rule>
        </rulegroup>
        <rulegroup default="on" id="I_TO_I_SE" name="Цельные выражения: ни рыба ни мясо, ...">
            <!-- Запятая не ставится в цельных выражениях:
            и то и се,  
            ни то ни се,  
            ни свет ни заря,  
            и так и сяк,  
            и туда и сюда,  
            ни рыба ни мясо,  
            ни жив ни мертв.
            --> 
            <rule>
                <pattern>
                    <token  regexp="yes">и|ни</token>
                    <token>то</token>
                    <token>,</token>
                    <token  regexp="yes">и|ни</token>
                    <token  regexp="yes">се|сё</token>                    
                </pattern>
                <message>Запятая не нужна:<suggestion>\1 \2 \4 \5</suggestion>.</message>
                <short>Запятая не нужна.</short>
                <example type="correct">И то и сё.</example>
                <example type="incorrect"><marker>И то, и сё</marker>.</example>
            </rule>
            
            <rule>
                <pattern>
                    <token>ни</token>
                    <token  regexp="yes">свет|рыба|жив</token>
                    <token>,</token>
                    <token>ни</token>
                    <token  regexp="yes">заря|мясо|мертв|мёртв</token>                    
                </pattern>
                <message>Запятая не нужна:<suggestion>\1 \2 \4 \5</suggestion>.</message>
                <short>Запятая не нужна.</short>
                <example type="correct">Он проснулся ни свет ни заря</example>
                <example type="incorrect">Он проснулся <marker>ни свет, ни заря</marker>.</example>
            </rule>
            <rule>
                <pattern>
                    <token>и</token>
                    <token  regexp="yes">так|туда</token>
                    <token>,</token>
                    <token>и</token>
                    <token  regexp="yes">сяк|сюда</token>                    
                </pattern>
                <message>Запятая не нужна:<suggestion>\1 \2 \4 \5</suggestion>.</message>
                <short>Запятая не нужна.</short>
                <example type="correct">И так и сяк.</example>
                <example type="incorrect"><marker>И так, и сяк</marker>.</example>
            </rule>
            
        </rulegroup>
    </category>   
    <category name="Типографика">
        <rule default="off"  id="KAVITCHKI" name="„ → ”">
            <pattern>
                <token>“</token>
            </pattern>
            <message>Кавычки не соответствуют нормам типографики.  Должно быть: <suggestion>„</suggestion>пример<suggestion>”</suggestion>.</message>
            <short>Неправильные кавычки.</short>
            <example type="correct">Газета „Правда”.</example>
            <example correction="„|”" type="incorrect">Газета <marker>“</marker>Правда”.</example>
        </rule>
        <rule default="on"  id="PUNKT_KAVITCHKI" name="Кавычки и знаки препинания">
            <pattern>
                <token  regexp="yes">;|:|-|—</token>
                <token regexp="yes">»|\)</token>
            </pattern>
            <message>Знаки препинания должны стоять после закрывающихся кавычек или скобок.  Должно быть: <suggestion>\2\1</suggestion></message>
            <example type="correct">Газета «Правда»: "У нас опубликована сенсационная статья"!</example>
            <example type="incorrect">Газета «Правда<marker>:»</marker> "У нас опубликована сенсационная статья"!</example>
        </rule>
        
    </category>    
    <category name="Грамматика">
        
        <rulegroup default="on"  id="SoglasovanieP" name="Согласование падежей">
            <rule>  
                <pattern>
                    <!--           ADJ:.*:Nom   NN:.*:.*:Nom    -->
                    <token  postag="ADJ:.*:Nom" postag_regexp="yes"><exception negate_pos="yes" postag="ADJ:.*:Nom" postag_regexp="yes"></exception></token>
                    <token  postag="NN:.*:.*:.*" postag_regexp="yes"><exception postag="NN:.*:.*:Nom" postag_regexp="yes"></exception><exception negate_pos="yes" postag="NN:.*:.*:.*" postag_regexp="yes"></exception></token>            
                </pattern>
                <message>Прилагательное не согласуется с существительным по падежу.</message>
                <short>Грамматическая ошибка.</short>
                <example type="correct">Добротная усадьба.</example>
                <example type="incorrect"><marker>Добротная усадьбе</marker>.</example>
            </rule>
            <rule>  
                <pattern> 
                    <!--           ADJ:.*:R   NN:.*:.*:R    -->
                    <token  postag="ADJ:.*:.*" postag_regexp="yes"><exception postag="ADJ:.*:R" postag_regexp="yes"></exception><exception negate_pos="yes" postag="ADJ:.*:.*" postag_regexp="yes"/></token>
                    <token  postag="NN:.*:.*:R" postag_regexp="yes"><exception negate_pos="yes" postag="NN:.*:.*:R" postag_regexp="yes"></exception></token>                       
                </pattern>
                
                <message>Прилагательное не согласуется с существительным по падежу.</message>
                <short>Грамматическая ошибка.</short>
                <example type="correct">Нет крепкого сна.</example>
                <example type="incorrect">Нет <marker>крепкому сна</marker>.</example>
            </rule>
            
            <rule>  
                <pattern>  
                    <!--           ADJ:.*:D   NN:.*:.*:D    -->
                    <token  postag="ADJ:.*:.*" postag_regexp="yes"><exception postag="ADJ:.*:D" postag_regexp="yes"></exception><exception negate_pos="yes" postag="ADJ:.*:.*" postag_regexp="yes"/></token>
                    <token  postag="NN:.*:.*:D" postag_regexp="yes"><exception negate_pos="yes" postag="NN:.*:.*:D" postag_regexp="yes"></exception></token>                        
                </pattern>
                
                <message>Прилагательное не согласуется с существительным по падежу.</message>
                <example type="correct">Вода стекала по мягкому жёлобу.</example>
                <example type="incorrect">Вода стекала по <marker>мягкий жёлобу</marker>.</example>
            </rule>
            
            <rule>  
                <pattern>
                    <!--           ADJ:.*:V   NN:.*:.*:V    -->
                    <token  postag="ADJ:.*:.*" postag_regexp="yes"><exception postag="ADJ:.*:V" postag_regexp="yes"></exception><exception negate_pos="yes" postag="ADJ:.*:.*" postag_regexp="yes"/></token>
                    <token  postag="NN:.*:.*:V" postag_regexp="yes"><exception negate_pos="yes" postag="NN:.*:.*:V" postag_regexp="yes"></exception></token>
                </pattern>
                
                <message>Прилагательное не согласуется с существительным по падежу.</message>
                <short>Грамматическая ошибка.</short>
                <example type="correct">Мы увидели бурную реку.</example>
                <example type="incorrect">Мы увидели <marker>бурной реку</marker>.</example>
            </rule>
            <rule>  
                <pattern>
                    <!--           ADJ:.*:T   NN:.*:.*:T    -->
                    <token  postag="ADJ:.*:.*" postag_regexp="yes"><exception postag="ADJ:.*:T" postag_regexp="yes"></exception><exception negate_pos="yes" postag="ADJ:.*:.*" postag_regexp="yes"/></token>
                    <token  postag="NN:.*:.*:T" postag_regexp="yes"><exception negate_pos="yes" postag="NN:.*:.*:T" postag_regexp="yes"></exception></token>
                </pattern>
                
                <message>Прилагательное не согласуется с существительным по падежу.</message>
                <short>Грамматическая ошибка.</short>
                <example type="correct">Они справились с бурной рекой</example>
                <example type="incorrect">Они справились с <marker>бурную рекой</marker>.</example>
            </rule>
            <rule>  
                <pattern>
                    <!--           ADJ:.*:P   NN:.*:.*:P    -->
                    <token  postag="ADJ:.*:.*" postag_regexp="yes"><exception postag="ADJ:.*:P" postag_regexp="yes"></exception><exception negate_pos="yes" postag="ADJ:.*:.*" postag_regexp="yes"/></token>
                    <token  postag="NN:.*:.*:P" postag_regexp="yes"><exception negate_pos="yes" postag="NN:.*:.*:P" postag_regexp="yes"></exception></token>                    
                </pattern>
                
                <message>Прилагательное не согласуется с существительным по падежу.</message>
                <short>Грамматическая ошибка.</short>
                <example type="correct">Они думали о родном доме.</example>
                <example type="incorrect">Они думали о <marker>родного доме</marker>.</example>
            </rule>
        </rulegroup>
        <rulegroup default="on"  id="SoglasovanieG" name="Согласование слов по роду">
            <rule>  
                
                <pattern>
                    <!--           ADJ:Masc   NN:Masc    -->
                    <token  postag="ADJ:Masc:.*" postag_regexp="yes"><exception negate_pos="yes" postag="ADJ:Masc:.*" postag_regexp="yes"></exception></token>
                    <token  postag="NN:.*:.*" postag_regexp="yes"><exception postag="NN:Masc:.*" postag_regexp="yes"></exception><exception postag="NN:MascFem:.*" postag_regexp="yes"></exception><exception negate_pos="yes" postag="NN:.*:.*:.*" postag_regexp="yes"/></token>            
                </pattern>
                
                <message>Прилагательное не согласуется с существительным по роду.</message>
                <short>Грамматическая ошибка.</short>
                <example type="correct">Добротный дом был построен из кирпича.</example>
                <example type="incorrect"><marker>Добротный усадьба</marker> был построен из кирпича.</example>
            </rule>
            <rule>  
                <pattern>
                    <!--           ADJ:Fem   NN:Fem    -->
                    <token  postag="ADJ:Fem:.*" postag_regexp="yes"><exception negate_pos="yes" postag="ADJ:Fem:.*" postag_regexp="yes"></exception></token>
                    <token  postag="NN:.*:.*" postag_regexp="yes"><exception postag="NN:Fem:.*" postag_regexp="yes"></exception><exception postag="NN:MascFem:.*" postag_regexp="yes"></exception><exception negate_pos="yes" postag="NN:.*:.*:.*" postag_regexp="yes"/></token>                    
                </pattern>
                
                <message>Прилагательное не согласуется с существительным по роду.</message>
                <short>Грамматическая ошибка.</short>
                <example type="correct">Жирная кошка грелась на солнышке.</example>
                <example type="incorrect"><marker>Жирная кот</marker> грелась на солнышке.</example>
            </rule>
            <rule>  
                <pattern>
                    <!--           ADJ:Neut   NN:Neut    -->
                    <token  postag="ADJ:Neut:.*" postag_regexp="yes"><exception negate_pos="yes" postag="ADJ:Neut:.*" postag_regexp="yes"></exception></token>
                    <token  postag="NN:.*:.*" postag_regexp="yes"><exception postag="NN:Neut:.*" postag_regexp="yes"></exception><exception negate_pos="yes" postag="NN:.*:.*:.*" postag_regexp="yes"/></token>                   
                </pattern>
                
                <message>Прилагательное не согласуется с существительным по роду.</message>
                <short>Грамматическая ошибка.</short>
                <example type="correct">Из окна виднелось зелёное поле.</example>
                <example type="incorrect">Из окна виднелось <marker>зелёное луг</marker>.</example>
            </rule>
        </rulegroup>       
        
        <rulegroup default="on"  id="V_K_S" name="Беглая гласная в предлогах: в, к, с, без, из ...">
            <rule>  
                <pattern>
                    <token>во</token>
                    <token  regexp="yes">[аёоуыэюяьън].*</token>
                </pattern>
                <message>Неправильная форма предлога. Буква "о" не нужна. Должно быть: <suggestion>в \2</suggestion>.</message>
                <short>Буква "о" не нужна.</short>
                <example type="correct">Мы видели её в окне.</example>
                <example type="incorrect">Мы видели её <marker>во окне</marker>.</example>
            </rule>
            <rule>  
                <pattern>
                    <token>ко</token>
                    <token  regexp="yes">[аеёиоуыэюяьън].*</token>
                </pattern>
                <message>Неправильная форма предлога. Буква "о" не нужна. Должно быть: <suggestion>к \2</suggestion>.</message>
                <short>Буква "о" не нужна.</short>
                <example type="correct">Мы успели к обеду.</example>
                <example type="incorrect">Мы успели <marker>ко обеду</marker>.</example>
            </rule>
            <rule>  
                <pattern>
                    <token>cо</token>
                    <token regexp="yes">[аеёиоуыэюяьънбгдкптфхцч].*</token>
                </pattern>
                <message>Неправильная форма предлога. Буква "о" не нужна. Должно быть: <suggestion>c \2</suggestion>.</message>
                <short>Буква "о" не нужна.</short>
                <example type="correct">Иван взял сумку с едой.</example>
                <example type="incorrect">Иван взял сумку <marker>cо едой</marker>.</example>
            </rule> 
            <rule>  
                <pattern>
                    <token>безо</token>
                    <token  regexp="yes">[аеёиоуыэюяьън].*</token>
                </pattern>
                <message>Неправильная форма предлога. Буква "о" не нужна. Должно быть: <suggestion>без \2</suggestion>.</message>
                <short>Буква "о" не нужна.</short>
                <example type="correct">Он убегал без оглядки.</example>
                <example type="incorrect">Он убегал <marker>безо оглядки</marker>.</example>
            </rule> 
            <rule>
                <pattern>
                    <token>изо</token>
                    <token  regexp="yes">[аеёиоуыэюяьън].*</token>
                </pattern>
                <message>Неправильная форма предлога. Буква "о" не нужна. Должно быть: <suggestion>из \2</suggestion>.</message>
                <short>Буква "о" не нужна.</short>
                <example type="correct">Из окна выпал пакет.</example>
                <example type="incorrect"><marker>Изо окна</marker> выпал пакет.</example>
            </rule> 
        </rulegroup>
        <rulegroup default="off"  id="S_SO" name="Беглая гласная в предлогах: c, co.">
            <rule>  
                <pattern>
                    <token>с</token>
                    <token  regexp="yes">[сзшжлрм][йцкнгшщзхфвпрлджчсмтб].*|ль[йцкнгшщзхфвпрлджчсмтб].*</token>
                </pattern>
                <message>Неправильная форма предлога. Должно быть: <suggestion>со \2</suggestion>.</message>
                <short>Неправильная форма предлога.</short>
                <example type="correct">Кошка спрыгнула со шкафа.</example>
                <example type="incorrect">Кошка спрыгнула <marker>с шкафа</marker>.</example>
            </rule>
            <rule>  
                <pattern>
                    <token>с</token>
                    <token  regexp="yes">[щв].*</token>
                </pattern>
                <message>Неправильная форма предлога. Должно быть: <suggestion>со \2</suggestion>.</message>
                <short>Неправильная форма предлога.</short>
                <example type="correct">Организация начинает работу со вторника.</example>
                <example type="incorrect">Организация начинает работу <marker>с вторника</marker>.</example>
            </rule>
        </rulegroup>
    </category>    
    <category name="Стиль">
        
        <rulegroup default="on"  id="talk" name="Разговорные слова">
            <rule>  
                <pattern>
                    <token  postag=".*:Talk" postag_regexp="yes"></token>
                </pattern>
                <message>Разговорная форма слова.</message>
                <example type="correct">Иванович</example>
                <example type="incorrect"><marker>Иваныч</marker></example>
            </rule>
        </rulegroup>
        
        <rule default="on"  id="OPREDELENIA" name="Избыточные придаточные определения">
            <pattern>
                <token  skip="-1" regexp="yes">который|которого|которому|
                    которого|которому|котором|которая|которой|которую|которые|которых|
                    которыми|которое|которого|которому|которым|котором|чей|чьего|чьему|
                чьим|чья|чьей|чью|чьей|чье|чьё|чьем|чьём|чьи</token>
                <token  regexp="yes">который|которого|которому|которого|которому|
                    котором|которая|которой|которую|которые|которых|которыми|которое|
                    которого|которому|которым|котором|чей|чьего|чьему|чьим|чья|чьей|
                чью|чьей|чье|чьё|чьем|чьём|чьи</token>
            </pattern>
            <message>Избыточные определения. В правильно составленном предложении не должно быть больше одного придаточного определения.</message>
            <short>Избыточные определения.</short>
            <example type="correct">Они пошли к реке, по которой плавала лодка.</example>
            <example type="incorrect">Они пошли к реке, по <marker>которой плавала лодка, которая</marker> была окрашена в белый цвет.</example>
        </rule>
        <rulegroup default="off" name="Благозвучность" id="BLAGOZVUCHNOST">
            <rule>
                <pattern>
                    <token regexp="yes">.*[йцкнгшщзхфвпрлджчсмтб][йцкнгшщзхфвпрлджчсмтб]</token>
                    <token regexp="yes">[йцкнгшщзхфвпрлджчсмтб][йцкнгшщзхфвпрлджчсмтб].*</token>
                </pattern>
                <message>Сложно произнести подряд 4 согласных звука.</message>
                <short>4 согласных подряд.</short>
                <example type="correct">Гимнаст активно тренировался.</example>
                <example type="incorrect"><marker>Гимнаст тренировался</marker>.</example>
            </rule>          
        </rulegroup>
    </category>    
</rules>

