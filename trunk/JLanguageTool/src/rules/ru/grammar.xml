<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE rules SYSTEM "../rules.dtd">
<?xml-stylesheet type="text/xsl" href="../print.xsl" 
title="Pretty print" ?>
<?xml-stylesheet type="text/css" href="../rules.css" 
title="Easy editing stylesheet" ?>
<!--
A Russian rule file for LanguageTool
Copyright (C) 2005 Daniel Naber (http://www.danielnaber.de)
Copyright (C) 2008 Yakov Reztsov
$Id: grammar.xml,v 1.8 2008-08-18 09:19:10 milek_pl Exp $
-->
<rules lang="ru">
    <category name="Пунктуация">
        <rulegroup id="POZHALUJSTA" name="«пожалуйста» выделяется запятыми">
            <rule>
                <pattern case_sensitive="yes" mark_to="0">
                    <token negate="yes" regexp="yes">[\p{Punct}]<exception postag="SENT_START"></exception></token>
                    <token>пожалуйста</token>
                </pattern>
                <message>Нет запятой: <suggestion>\1, \2</suggestion>.</message>
                <example type="correct">Закройте дверь, <marker>пожалуйста.</marker></example>
                <example type="incorrect">Закройте <marker>дверь пожалуйста</marker>.</example>
            </rule>
            <rule>
                <pattern case_sensitive="yes" mark_to="0">
                    <token  postag="SENT_START"></token>
                    <token>Пожалуйста</token>
                    <token negate="yes" regexp="yes">,|.</token>
                </pattern>
                <message>Нет запятой: <suggestion>\2, \3</suggestion>.</message>
                <example type="correct">Пожалуйста, закройте дверь, <marker>пожалуйста.</marker></example>
                <example type="incorrect"><marker>Пожалуйста закройте</marker> дверь.</example>
            </rule>
        </rulegroup>
        <rulegroup id="KAK_PRAVILO" name="Вводное сочетание как обычно, как всегда, ...">
            <!--Вводное сочетание как обычно, как всегда, как правило, как исключение, как сейчас, как нарочно
-->
            <rule>
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]<exception postag="SENT_START"></exception></token>
                    <token>как</token>
                    <token regexp="yes">обычно|всегда|правило|исключение|нарочно|сейчас</token>
                </pattern>
                <message>Нет запятой: <suggestion>\1, \2 \3,</suggestion>.</message>
                <example type="correct">Мы<marker>, как правило,</marker> ходим в походы летом.</example>
                <example type="incorrect" correction="Мы, как правило,"><marker>Мы как правило</marker> ходим в походы летом.</example>
            </rule>         
            <rule>
                <pattern case_sensitive="yes">
                    <token  postag="SENT_START"></token>
                    <token>Как</token>
                    <token regexp="yes">обычно|всегда|правило|исключение|нарочно|сейчас</token>
                    <token negate="yes" regexp="yes">,|.</token>
                </pattern>
                <message>Нет запятой: <suggestion>\2 \3, \4</suggestion>.</message>
                <example type="correct"><marker>Как правило,</marker> мы ходим в походы летом.</example>
                <example type="incorrect" correction="Как правило, мы"><marker>Как правило мы</marker> ходим в походы летом.</example>
            </rule>         
        </rulegroup>
        <rulegroup id="KAK_I" name="После союза как следует и">
            <!--TODO: Detect 2 comma.-->
            <rule>
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]<exception postag="SENT_START"></exception></token>
                    <token>как</token>
                    <token>и</token>
                </pattern>
                <message>Оборот "как и" выделяется запятыми: <suggestion>\1, \2 \3</suggestion>.</message>
                <example type="correct">Мы<marker>, как и наши товарищи,</marker> любим заниматься спортом.</example>
                <example type="incorrect"><marker>Мы как и</marker> наши товарищи любим заниматься спортом.</example>
            </rule>
        </rulegroup>
        <rulegroup default="on" id="A_NO_DA" name="Союзы 'а, но'">
            <rule>
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]<exception postag="SENT_START"></exception></token>
                    <token>а</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2</suggestion>.</message>
                <example type="correct">И растёт ребёнок там не по дням, а по часам.</example>
                <example type="incorrect">И растёт ребёнок там не по <marker>дням а</marker> по часам.</example>
            </rule>
            <rule>
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]<exception postag="SENT_START"></exception></token>
                    <token>но</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2</suggestion>.</message>
                <example type="correct">Она говорила мало, но толково.</example>
                <example type="incorrect">Она говорила <marker>мало но</marker> толково.</example>
            </rule>
        </rulegroup>
        <rulegroup default="on" id="VVODNOE_SLOVO" name="Вводные слова: по-видимому, ...">
            <rule>
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]<exception postag="SENT_START"></exception></token>
                    <token regexp="yes">по-видимому|по-моему</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2,</suggestion>.</message>
                <example type="correct">Это показалось ему, по-видимому, странным.</example>
                <example type="incorrect" correction="ему, по-видимому,">Это показалось <marker>ему по-видимому</marker> странным.</example>
            </rule>
            <rule>
                <pattern case_sensitive="yes">
                    <token  postag="SENT_START"></token>
                    <token regexp="yes">По-видимому|По-моему</token>
                    <token negate="yes" regexp="yes">,|.</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\2, \3</suggestion>.</message>
                <example type="correct">По-видимому, это странное явление.</example>
                <example type="incorrect" correction="По-видимому, это"><marker>По-видимому это</marker> странное явление.</example>
            </rule>
            <rule>
                <!-- Вводные слова: к счастью, к несчастью, к радости, к ужасу, к сожалению, ...-->
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]<exception postag="SENT_START"></exception></token>
                    <token>к</token>
                    <token regexp="yes">счастью|несчастью|радости|ужасу|сожалению</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2 \3,</suggestion>.</message>
                <example type="correct">Мы, к сожалению, не успели на поезд.</example>
                <example type="incorrect" correction="Мы, к сожалению,"><marker>Мы к сожалению</marker> не успели на поезд.</example>
            </rule>
            <rule>        
                <pattern case_sensitive="yes">
                    <token  postag="SENT_START"></token>
                    <token>К</token>
                    <token regexp="yes">счастью|несчастью|радости|ужасу|сожалению</token>
                    <token negate="yes" regexp="yes">,|.</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\2 \3, \4</suggestion>.</message>
                <example type="correct">К сожалению, мы не успели на поезд.</example>
                <example type="incorrect" correction="К сожалению, мы"><marker>К сожалению мы</marker> не успели на поезд.</example>
            </rule>
            
            <rule>
                <!-- Вводные слова: конечно, несомненно, вероятно, может быть, кажется, ...-->
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]<exception postag="SENT_START"></exception></token>     
                    <token regexp="yes">конечно|несомненно|вероятно|кажется</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2,</suggestion>.</message>
                <example type="correct">Эта работа, несомненно, представляет огромную научную ценность.</example>
                <example type="incorrect" correction="работа, несомненно,">Эта <marker>работа несомненно</marker> представляет огромную научную ценность.</example>
            </rule>
            <rule>
                <pattern case_sensitive="yes">   
                    <token  postag="SENT_START"></token>
                    <token regexp="yes">Конечно|Несомненно|Вероятно|Кажется</token>
                    <token negate="yes" regexp="yes">,|.</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\2, \3</suggestion>.</message>
                <example type="correct">Несомненно, эта работа представляет огромную научную ценность.</example>
                <example type="incorrect" correction="Несомненно, эта"><marker>Несомненно эта</marker> работа представляет огромную научную ценность.</example>
            </rule>
            <rule>
                <!-- Вводные слова: итак, следовательно, во-первых, наконец, между прочим, ...-->            
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]<exception postag="SENT_START"></exception></token>     
                    <token regexp="yes">итак|следовательно|во-первых|во-вторых|в-третьих|в-четвертых|наконец</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2,</suggestion>.</message>
                <example type="correct">Эта работа, во-первых, представляет огромную научную ценность.</example>
                <example type="incorrect" correction="работа, во-первых,">Эта <marker>работа во-первых</marker> представляет огромную научную ценность.</example>
            </rule>
            <rule>
                <pattern case_sensitive="yes">
                    <token  postag="SENT_START"></token>
                    <token regexp="yes">Итак|Следовательно|Во-первых|Во-вторых|В-третьих|В-четвертых|Наконец</token>
                    <token negate="yes" regexp="yes">,|.</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\2, \3</suggestion>.</message>
                <example type="correct">Во-первых, эта работа представляет огромную научную ценность.</example>
                <example type="incorrect" correction="Во-первых, эта"><marker>Во-первых эта</marker> работа представляет огромную научную ценность.</example>
            </rule>
            <rule>
                <!-- Вводные слова:   одним словом, вообще, иначе говоря, так сказать, ...-->
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]<exception postag="SENT_START"></exception></token>     
                    <token>одним</token>
                    <token>словом</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2 \3,</suggestion>.</message>
                <example type="correct">Эта работа, одним словом, представляет огромную научную ценность.</example>
                <example type="incorrect" correction="работа, одним словом,">Эта <marker>работа одним словом</marker> представляет огромную научную ценность.</example>
            </rule>
            <rule>
                <pattern case_sensitive="yes">
                    <token  postag="SENT_START"></token>
                    <token>Одним</token>
                    <token>словом</token>
                    <token negate="yes" regexp="yes">,|.</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\2 \3, \4</suggestion>.</message>
                <example type="correct">Одним словом, эта работа представляет огромную научную ценность.</example>
                <example type="incorrect" correction="Одним словом, эта"><marker>Одним словом эта</marker> работа представляет огромную научную ценность.</example>
            </rule>
            <rule> 
                <!-- Вводные слова:   видишь (ли), понимаешь (ли), ...-->
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">[\p{Punct}]<exception postag="SENT_START"></exception></token>    
                    <token regexp="yes">видишь|понимаешь</token>
                    <token>ли</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2 \3,</suggestion>.</message>
                <example type="correct">Эта работа, видишь ли, представляет огромную научную ценность.</example>
                <example type="incorrect" correction="работа, видишь ли,">Эта <marker>работа видишь ли</marker> представляет огромную научную ценность.</example>
            </rule>
            <rule> 
                <pattern case_sensitive="yes">
                    <token  postag="SENT_START"></token>
                    <token regexp="yes">Видишь|Понимаешь</token>
                    <token>ли</token>
                    <token negate="yes" regexp="yes">,|.</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\2 \3, \4</suggestion>.</message>
                <example type="correct">Видишь ли, эта работа представляет огромную научную ценность.</example>
                <example type="incorrect" correction="Видишь ли, эта"><marker>Видишь ли эта</marker> работа представляет огромную научную ценность.</example>
            </rule>    
        </rulegroup>
        
        <rulegroup default="on" id="PREDLOGI_KROME" name="Дополнения, вводимые предлогами: кроме, ...">
            <!--Дополнения, вводимые предлогами: кроме, помимо, вместо, сверх, за исключением
            --> 
            <!--TODO: Detect 2 comma.-->
            <rule>
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">,<exception postag="SENT_START"></exception></token>
                    <token regexp="yes">кроме|помимо|вместо|сверх</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2</suggestion>.</message>
                <example type="correct">Около костра, кроме Ивана, грелось ещё пять человек.</example>
                <example type="incorrect">Около <marker>костра кроме</marker> Ивана грелось ещё пять человек.</example>
            </rule>   
            <rule>
                <pattern case_sensitive="yes">
                    <token negate="yes" regexp="yes">,<exception postag="SENT_START"></exception></token>
                    <token>за</token>
                    <token>исключением</token>
                </pattern>
                <message>Запятая пропущена здесь:<suggestion>\1, \2 \3</suggestion>.</message>
                <example type="correct">В поход, за исключением Ивана, пошло ещё пять человек.</example>
                <example type="incorrect" correction="поход, за исключением">В <marker>поход за исключением</marker> Ивана пошло ещё пять человек.</example>
            </rule>
        </rulegroup>
        <rulegroup default="on" id="NO_KAK_POPALO" name="Что угодно, как попало">
            <!--Что угодно, как попало  не выделяются запятыми.
            --> 
            <rule>
                <pattern>
                    <token  regexp="yes">,</token>
                    <token  regexp="yes">что|как</token>
                    <token  regexp="yes">попало|угодно</token>
                </pattern>
                <message>Запятая не нужна:<suggestion> \2 \3</suggestion>.</message>
                <example type="correct">Работа была сделана как попало.</example>
                <example type="incorrect">Работа была сделана<marker>, как попало</marker>.</example>
            </rule>
        </rulegroup>
        <rulegroup default="on" id="NO_NE_KAK" name="Почти как, не как, ...">
            <!--Перед сравнительным оборотом стоит не или слова совсем, совершенно, почти, именно запятая не ставится.
            --> 
            <rule>
                <pattern>
                    <token  regexp="yes">не|совсем|совершенно|почти|именно</token>
                    <token  regexp="yes">,</token>
                    <token>как</token>
                </pattern>
                <message>Запятая не нужна:<suggestion>\1 \3</suggestion>.</message>
                <example type="correct">Работа была сделана совсем как попало.</example>
                <example type="incorrect">Работа была сделана <marker>совсем, как</marker> попало.</example>
            </rule>
        </rulegroup>
        <rulegroup default="on" id="NO_NE_TO_CHTO" name="Не то что, не так чтобы, не иначе как">
            <!-- Внутри сочетаний не то что, не то (так) чтобы, не иначе как запятая не ставится.
            --> 
            <rule>
                <pattern>
                    <token>не</token>
                    <token  regexp="yes">то|иначе|так</token>
                    <token  regexp="yes">,</token>
                    <token  regexp="yes">что|как|чтобы</token>                    
                </pattern>
                <message>Запятая не нужна:<suggestion>\1 \2 \4</suggestion>.</message>
                <example type="correct">Работа была сделана не иначе как полностью.</example>
                <example type="incorrect">Работа была сделана <marker>не иначе, как</marker> полностью.</example>
            </rule>
        </rulegroup>
        <rulegroup default="on" id="I_TO_I_SE" name="Цельные выражения: ни рыба ни мясо, ...">
            <!-- Запятая не ставится в цельных выражениях:
            и то и се,  
            ни то ни се,  
            ни свет ни заря,  
            и так и сяк,  
            и туда и сюда,  
            ни рыба ни мясо,  
            ни жив ни мертв.
            --> 
            <rule>
                <pattern>
                    <token  regexp="yes">и|ни</token>
                    <token>то</token>
                    <token>,</token>
                    <token  regexp="yes">и|ни</token>
                    <token  regexp="yes">се|сё</token>                    
                </pattern>
                <message>Запятая не нужна:<suggestion>\1 \2 \4 \5</suggestion>.</message>
                <example type="correct">И то и сё.</example>
                <example type="incorrect"><marker>И то, и сё</marker>.</example>
            </rule>
            
            <rule>
                <pattern>
                    <token>ни</token>
                    <token  regexp="yes">свет|рыба|жив</token>
                    <token>,</token>
                    <token>ни</token>
                    <token  regexp="yes">заря|мясо|мертв|мёртв</token>                    
                </pattern>
                <message>Запятая не нужна:<suggestion>\1 \2 \4 \5</suggestion>.</message>
                <example type="correct">Он проснулся ни свет ни заря</example>
                <example type="incorrect">Он проснулся <marker>ни свет, ни заря</marker>.</example>
            </rule>
            <rule>
                <pattern>
                    <token>и</token>
                    <token  regexp="yes">так|туда</token>
                    <token>,</token>
                    <token>и</token>
                    <token  regexp="yes">сяк|сюда</token>                    
                </pattern>
                <message>Запятая не нужна:<suggestion>\1 \2 \4 \5</suggestion>.</message>
                <example type="correct">И так и сяк.</example>
                <example type="incorrect"><marker>И так, и сяк</marker>.</example>
            </rule>
            
        </rulegroup>
    </category>   
    <category name="Типографика">
        <rule default="off"  id="KAVITCHKI" name="„ → ”">
            <pattern>
                <token>“</token>
            </pattern>
            <message>Кавычки не соответствуют нормам типографики.  Должно быть: <suggestion>„</suggestion>пример<suggestion>”</suggestion>.</message>
            <example type="correct">Газета „Правда”.</example>
            <example correction="„|”" type="incorrect">Газета <marker>“</marker>Правда”.</example>
        </rule>
    </category>    
    <category name="Грамматика">
        <rulegroup default="on"  id="V_K_S" name="Беглая гласная в предлогах: в, к, с, без, из ...">
            <rule>  
                <pattern>
                    <token>во</token>
                    <token  regexp="yes">[аеёоуыэюяьън].*</token>
                </pattern>
                <message>Неправильная форма предлога. Буква "о" не нужна. Должно быть: <suggestion>в \2</suggestion>.</message>
                <example type="correct">Мы видели её в окне.</example>
                <example type="incorrect">Мы видели её <marker>во окне</marker>.</example>
            </rule>
            <rule>  
                <pattern>
                    <token>ко</token>
                    <token  regexp="yes">[аеёиоуыэюяьън].*</token>
                </pattern>
                <message>Неправильная форма предлога. Буква "о" не нужна. Должно быть: <suggestion>к \2</suggestion>.</message>
                <example type="correct">Мы успели к обеду.</example>
                <example type="incorrect">Мы успели <marker>ко обеду</marker>.</example>
            </rule>
            <rule>  
                <pattern>
                    <token>cо</token>
                    <token regexp="yes">[аеёиоуыэюяьънбгдкптфхцч].*</token>
                </pattern>
                <message>Неправильная форма предлога. Буква "о" не нужна. Должно быть: <suggestion>c \2</suggestion>.</message>
                <example type="correct">Иван взял сумку с едой.</example>
                <example type="incorrect">Иван взял сумку <marker>cо едой</marker>.</example>
            </rule> 
            <rule>  
                <pattern>
                    <token>безо</token>
                    <token  regexp="yes">[аеёиоуыэюяьън].*</token>
                </pattern>
                <message>Неправильная форма предлога. Буква "о" не нужна. Должно быть: <suggestion>без \2</suggestion>.</message>
                <example type="correct">Он убегал без оглядки.</example>
                <example type="incorrect">Он убегал <marker>безо оглядки</marker>.</example>
            </rule> 
            <rule>
                <pattern>
                    <token>изо</token>
                    <token  regexp="yes">[аеёиоуыэюяьън].*</token>
                </pattern>
                <message>Неправильная форма предлога. Буква "о" не нужна. Должно быть: <suggestion>из \2</suggestion>.</message>
                <example type="correct">Из окна выпал пакет.</example>
                <example type="incorrect"><marker>Изо окна</marker> выпал пакет.</example>
            </rule> 
        </rulegroup>
        <rulegroup default="off"  id="S_SO" name="Беглая гласная в предлогах: c, co.">
            <rule>  
                <pattern>
                    <token>с</token>
                    <token  regexp="yes">[сзшжлрм][йцкнгшщзхфвпрлджчсмтб].*|ль[йцкнгшщзхфвпрлджчсмтб].*</token>
                </pattern>
                <message>Неправильная форма предлога. Должно быть: <suggestion>со \2</suggestion>.</message>
                <example type="correct">Кошка спрыгнула со шкафа.</example>
                <example type="incorrect">Кошка спрыгнула <marker>с шкафа</marker>.</example>
            </rule>
            <rule>  
                <pattern>
                    <token>с</token>
                    <token  regexp="yes">[щв].*</token>
                </pattern>
                <message>Неправильная форма предлога. Должно быть: <suggestion>со \2</suggestion>.</message>
                <example type="correct">Организация начинает работу со вторника.</example>
                <example type="incorrect">Организация начинает работу <marker>с вторника</marker>.</example>
            </rule>
        </rulegroup>
    </category>    
    <category name="Стиль">
        <rule default="on"  id="OPREDELENIA" name="Избыточные придаточные определения">
            <pattern>
                <token  skip="-1" regexp="yes">который|которого|которому|
                    которого|которому|котором|которая|которой|которую|которые|которых|
                    которыми|которое|которого|которому|которым|котором|чей|чьего|чьему|
                чьим|чья|чьей|чью|чьей|чье|чьё|чьем|чьём|чьи</token>
                <token  regexp="yes">который|которого|которому|которого|которому|
                    котором|которая|которой|которую|которые|которых|которыми|которое|
                    которого|которому|которым|котором|чей|чьего|чьему|чьим|чья|чьей|
                чью|чьей|чье|чьё|чьем|чьём|чьи</token>
            </pattern>
            <message>Избыточные определения. В правильно составленном предложении не должно быть больше одного придаточного определения.</message>
            <example type="correct">Они пошли к реке, по которой плавала лодка.</example>
            <example type="incorrect">Они пошли к реке, по <marker>которой плавала лодка, которая</marker> была окрашена в белый цвет.</example>
        </rule>
        <rulegroup default="off" name="Благозвучность" id="BLAGOZVUCHNOST">
            <rule>
                <pattern>
                    <token regexp="yes">.*[йцкнгшщзхфвпрлджчсмтб][йцкнгшщзхфвпрлджчсмтб]</token>
                    <token regexp="yes">[йцкнгшщзхфвпрлджчсмтб][йцкнгшщзхфвпрлджчсмтб].*</token>
                </pattern>
                <message>Сложно произнести подряд 4 согласных звука.</message>
                <example type="correct">Гимнаст активно тренировался.</example>
                <example type="incorrect"><marker>Гимнаст тренировался</marker>.</example>
            </rule>          
        </rulegroup>
    </category>    
</rules>

