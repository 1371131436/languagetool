
Internal documentation on LanguageTool

** How to add a new committer **

-if someone sends more than two good patches (no matter if code or rules), offer them commit access, 
 asking for their sourceforge username
-add them as a committer on sourceforge
-ask them to follow the instructions on http://languagetool.wikidot.com/rules-for-new-committers
-welcome them on the mailing list and twitter
-ask them to make a first commit, e.g. adding themselves as a maintainer in <Language>.java, if appropriate


** How to enter Feature Freeze **

-update community site with current LT build and re-run Wikipedia checks
-send an email to the mailing list about the code freeze:
  -planned release date
  -ask for Transifex updates if needed
  -no new i18n strings allowed
  -ask for fixing false alarms on http://community.languagetool.org/corpusMatch/list?lang=en etc


** How to make a LanguageTool release **

-make an SVN update
-update the i18n property files by running ./i18n_update.sh and commit any changes
-create release branch:
 svn cp https://languagetool.svn.sourceforge.net/svnroot/languagetool/trunk/JLanguageTool https://languagetool.svn.sourceforge.net/svnroot/languagetool/branches/V_x_y
 and work in that branch
-set version number in build.properties
-set JLanguageTool.VERSION in JLanguageTool.java
-go to src/main/dev/tools/ltdiff and use ./ltdiff.bash to create a rule diff between this version and the previous one
-update CHANGES files
   -make sure it matches the rule diff report
   -sort language changes alphabetically
-update README file
-make sure there are no other local changes left that are not committed
-run "ant generate-ignore-files" and check in changes
-run "ant test"
-run "ant dist"
-make sure no warnings (like "warning: [options] bootstrap class path not set in conjunction
 with -source 1.6") appear - if they do, make sure to compile with Java 1.6
-run "ant dist-standalone"
-test command line application, LibreOffice/OO integration, and stand-alone GUI version
 with at least these test sentences: 
    I've got allot of questions to you. (en)
    Seit 10 Jahre. (de)
    El agua es de gratis. (es)
    Je voudrais ajouter en plus quelque chose. (fr)
    Ovviamente... è tutto a gratis! (it)
    Hij is de gene die het fout doet. (nl)
    Kupiłem wino chciałem też pić wodę. (pl)
    Стоимость работ составила 10 тыс рублей. (ru)
-copy LT to a path with a space and test some sentences
-upload to the server:
    -*.oxt, *.zip, dist/README.txt and dist/CHANGES.txt to "download"
    -run "ant javadoc" and upload dist/docs/api/* to "development"
    -copy result to the server:
     scp -r dist/docs/api/ languagetool@176.28.12.50:languagetool.org/website-from-svn/www/development/api_new
     On the server, move the old "api" and then "mv api_new api"
-run "ant jnlp" (note you need file myalias.p12 with the certificate to do this;
 for security reasons it is not in the repository) and upload result to the server:
    -dist/web/ to www/webstart/web/
-commit local version number changes etc. to SVN
-tag release as V_x_y, e.g. V_1_3:
 svn cp https://languagetool.svn.sourceforge.net/svnroot/languagetool/branches/V_x_y https://languagetool.svn.sourceforge.net/svnroot/languagetool/tags/V_x_y
 (or in Eclipse: 'Team -> Tag as Version' on the JLanguageTool project)
-merge changes back to trunk:
 svn merge https://languagetool.svn.sourceforge.net/svnroot/languagetool/tags/V_x_y/ (call this in trunk)
-build.properties, JLanguageTool.VERSION in JLanguageTool.java in trunk:
    -set to next version: x.y-dev

-update website
    -index.php (remember to also set $lastmod)
    -link the release on the server:
     cd /home/languagetool/languagetool.org/website-from-svn/www/download/
     rm LanguageTool-stable.oxt && ln -s LanguageTool-1.X.oxt LanguageTool-stable.oxt && rm LanguageTool-stable.zip && ln -s LanguageTool-1.X.zip LanguageTool-stable.zip
    -languages/index.php (run org.languagetool.dev.RuleOverview,
     remember to also set $lastmod)
    -add the new version number to Sourceforge's bug tracker
     (Project Admin -> Features -> Tracker -> Manage -> Bugs -> Add/Update Groups)
    -update roadmap at http://languagetool.wikidot.com/roadmap
    -enter the next feature freeze date in your personal calendar so you don't forget it
    -languagetool.update.xml - this is linked in openoffice/description.xml and allows updating LT from
     within the OOo/LO extension manager

-write announcements:
    -LanguageTool mailing list. Include MD5 checksums (Unix commands: md5sum).
    -http://extensions.services.openoffice.org/project/languagetool
    -http://extensions.libreoffice.org/extension-center/languagetool/releases
     (Make sure to set "language neutral" on the meta data page and to set a release date, otherwise it might
      not appear. Also maybe set the "State" to "final release".)
    -freecode.com (formerly freshmeat)
    -http://twitter.com/languagetoolorg
    -http://www.languagetool.org/forum/
    -Daniel's blog
    -Polish blog: morfologik.blogspot.com
    -pl.openoffice.org

Community update of the Wikipedia data on community.languagetool.org (needs server access):

 -unzip the current release in /home/languagetool/ltcommunity/corpus/code
  (you can use ./src/scripts/deploy-wikipedia-checker.sh for that)
 -in /home/languagetool/ltcommunity/corpus, call ./check-all.sh

Community update of the rules at community.languagetool.org (needs server access):

 -create a new JAR of the rules and resources of the current release:
   zip -r LanguageTool-Rules.jar resource/ rules/
 -make a backup of the libs:
  cp /home/languagetool/tomcat/webapps/ROOT/WEB-INF/lib/*.jar /home/languagetool/tomcat/backup/
 -copy the newly created LanguageTool-Rules.jar and LanguageTool.jar from the current release to
  the web app's lib directory:
  cp LanguageTool-Rules.jar LanguageTool.jar /home/languagetool/tomcat/webapps/ROOT/WEB-INF/lib/
 -update the other JARs, too, if they have been changed in this release
 -restart tomcat: ~/restart.sh
